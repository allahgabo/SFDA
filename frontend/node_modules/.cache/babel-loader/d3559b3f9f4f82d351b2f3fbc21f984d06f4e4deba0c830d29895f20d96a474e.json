{"ast":null,"code":"import axios from 'axios';\nconst BASE = '/api';\nconst api = axios.create({\n  baseURL: BASE\n});\n\n// ── Auth token injection ──────────────────────────────────────────────────\napi.interceptors.request.use(cfg => {\n  const token = localStorage.getItem('sfda_token');\n  if (token) cfg.headers.Authorization = `Bearer ${token}`;\n  return cfg;\n});\n\n// ── Auth API ──────────────────────────────────────────────────────────────\nexport const authLogin = (email, password) => api.post('/auth/login/', {\n  email,\n  password\n});\nexport const authSignup = data => api.post('/auth/signup/', data);\nexport const authForgot = email => api.post('/auth/forgot/', {\n  email\n});\nexport const authLogout = () => api.post('/auth/logout/');\nexport const authMe = () => api.get('/auth/me/');\n\n// ── Auth helpers (localStorage) ───────────────────────────────────────────\nexport const saveAuth = (token, user) => {\n  localStorage.setItem('sfda_token', token);\n  localStorage.setItem('sfda_user', JSON.stringify(user));\n};\nexport const clearAuth = () => {\n  localStorage.removeItem('sfda_token');\n  localStorage.removeItem('sfda_user');\n};\nexport const getStoredUser = () => {\n  try {\n    return JSON.parse(localStorage.getItem('sfda_user'));\n  } catch {\n    return null;\n  }\n};\nexport const isAuthenticated = () => !!localStorage.getItem('sfda_token');\n\n// ── Reports API ───────────────────────────────────────────────────────────\nexport const getReports = () => api.get('/reports/');\nexport const getReport = id => api.get(`/reports/${id}/`);\nexport const createReport = data => api.post('/reports/', data);\nexport const updateReport = (id, data) => api.patch(`/reports/${id}/`, data);\nexport const deleteReport = id => api.delete(`/reports/${id}/`);\nexport const generateAI = id => api.post(`/reports/${id}/generate/`);\nexport const getStats = () => api.get('/stats/');\nexport const chatAssistant = (messages, system) => api.post('/assistant/', {\n  messages,\n  system\n});\n\n// ── PDF / Preview URLs ────────────────────────────────────────────────────\nexport const getPDFUrl = id => `${BASE}/reports/${id}/pdf/`;\nexport const getInlinePDFUrl = id => `${BASE}/reports/${id}/pdf/inline/`;\nexport const getPreviewUrl = id => `${BASE}/reports/${id}/preview/`;","map":{"version":3,"names":["axios","BASE","api","create","baseURL","interceptors","request","use","cfg","token","localStorage","getItem","headers","Authorization","authLogin","email","password","post","authSignup","data","authForgot","authLogout","authMe","get","saveAuth","user","setItem","JSON","stringify","clearAuth","removeItem","getStoredUser","parse","isAuthenticated","getReports","getReport","id","createReport","updateReport","patch","deleteReport","delete","generateAI","getStats","chatAssistant","messages","system","getPDFUrl","getInlinePDFUrl","getPreviewUrl"],"sources":["D:/New Project/milken_app/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE = '/api';\nconst api = axios.create({ baseURL: BASE });\n\n// ── Auth token injection ──────────────────────────────────────────────────\napi.interceptors.request.use(cfg => {\n  const token = localStorage.getItem('sfda_token');\n  if (token) cfg.headers.Authorization = `Bearer ${token}`;\n  return cfg;\n});\n\n// ── Auth API ──────────────────────────────────────────────────────────────\nexport const authLogin    = (email, password) => api.post('/auth/login/',  { email, password });\nexport const authSignup   = (data)            => api.post('/auth/signup/', data);\nexport const authForgot   = (email)           => api.post('/auth/forgot/', { email });\nexport const authLogout   = ()                => api.post('/auth/logout/');\nexport const authMe       = ()                => api.get('/auth/me/');\n\n// ── Auth helpers (localStorage) ───────────────────────────────────────────\nexport const saveAuth        = (token, user) => { localStorage.setItem('sfda_token', token); localStorage.setItem('sfda_user', JSON.stringify(user)); };\nexport const clearAuth       = ()            => { localStorage.removeItem('sfda_token'); localStorage.removeItem('sfda_user'); };\nexport const getStoredUser   = ()            => { try { return JSON.parse(localStorage.getItem('sfda_user')); } catch { return null; } };\nexport const isAuthenticated = ()            => !!localStorage.getItem('sfda_token');\n\n// ── Reports API ───────────────────────────────────────────────────────────\nexport const getReports      = ()          => api.get('/reports/');\nexport const getReport       = id          => api.get(`/reports/${id}/`);\nexport const createReport    = data        => api.post('/reports/', data);\nexport const updateReport    = (id, data)  => api.patch(`/reports/${id}/`, data);\nexport const deleteReport    = id          => api.delete(`/reports/${id}/`);\nexport const generateAI      = id          => api.post(`/reports/${id}/generate/`);\nexport const getStats        = ()          => api.get('/stats/');\nexport const chatAssistant   = (messages, system) => api.post('/assistant/', { messages, system });\n\n// ── PDF / Preview URLs ────────────────────────────────────────────────────\nexport const getPDFUrl       = id => `${BASE}/reports/${id}/pdf/`;\nexport const getInlinePDFUrl = id => `${BASE}/reports/${id}/pdf/inline/`;\nexport const getPreviewUrl   = id => `${BASE}/reports/${id}/preview/`;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}