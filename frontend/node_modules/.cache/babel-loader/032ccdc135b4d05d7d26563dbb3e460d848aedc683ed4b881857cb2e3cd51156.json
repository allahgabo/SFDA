{"ast":null,"code":"import _objectSpread from\"D:/New Project/milken_app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState,useRef}from'react';import{createReport,generateAI,getPDFUrl,getPreviewUrl}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const COUNTRIES=['USA','UK','Germany','France','Japan','China','Singapore','Australia','UAE','Saudi Arabia','India','Brazil','Canada','South Korea','Netherlands','Switzerland','Sweden','Norway','Italy','Spain','Egypt','Turkey'];const EVENT_TYPES=['Conference','Summit','Exhibition','Forum','Workshop','Bilateral Meeting','Scientific Congress','Trade Show'];const GEN_STEPS=['Analyzing destination risk profile...','Collecting geopolitical intelligence...','Reviewing WHO health advisories...','Generating conference details...','Building delegation and agenda...','Compiling speakers and bilateral meetings...','Adding consulate, weather & prayer times...','Finalizing report structure...'];export default function NewReportForm(_ref){let{onSuccess,onCancel}=_ref;const[form,setForm]=useState({title:'',event_name:'',event_type:'Conference',language:'English',event_website:'',city:'',country:'',venue:'',start_date:'',end_date:'',context:'',traveler_name:'Dr. Hisham Al Jadhey',traveler_title:'ÿßŸÑÿ±ÿ¶Ÿäÿ≥ ÿßŸÑÿ™ŸÜŸÅŸäÿ∞Ÿä ŸÑŸÑŸáŸäÿ¶ÿ© ÿßŸÑÿπÿßŸÖÿ© ŸÑŸÑÿ∫ÿ∞ÿßÿ° ŸàÿßŸÑÿØŸàÿßÿ°'});const[phase,setPhase]=useState('form');const[genStep,setGenStep]=useState('');const[report,setReport]=useState(null);const[error,setError]=useState('');const[previewMode,setPreviewMode]=useState(null);const submittingRef=useRef(false);const set=k=>e=>setForm(p=>_objectSpread(_objectSpread({},p),{},{[k]:e.target.value}));const handleGenerate=async()=>{if(submittingRef.current)return;if(!form.event_name||!form.city||!form.country||!form.start_date){setError('Please fill in: Event Name, City, Country, and Start Date.');return;}submittingRef.current=true;setError('');setPhase('generating');let stepIdx=0;const stepInterval=setInterval(()=>{setGenStep(GEN_STEPS[stepIdx%GEN_STEPS.length]);stepIdx++;},700);try{const payload=_objectSpread(_objectSpread({},form),{},{title:form.title||form.event_name});const createRes=await createReport(payload);const newReport=createRes.data;setGenStep('Calling AI to generate full report content...');const genRes=await generateAI(newReport.id);const fullReport=genRes.data.report;clearInterval(stepInterval);setReport(fullReport);setPhase('done');onSuccess(fullReport);}catch(e){var _e$response,_e$response$data;clearInterval(stepInterval);setError(((_e$response=e.response)===null||_e$response===void 0?void 0:(_e$response$data=_e$response.data)===null||_e$response$data===void 0?void 0:_e$response$data.error)||'Generation failed. Please check your API key and try again.');setPhase('form');}finally{submittingRef.current=false;}};const iS={width:'100%',padding:'10px 12px',border:'1.5px solid #e2e8f0',borderRadius:8,fontSize:13,color:'#0d1829',background:'white',outline:'none',fontFamily:'inherit',transition:'border-color 0.15s',boxSizing:'border-box'};const lS={fontSize:10.5,fontWeight:700,color:'#64748b',letterSpacing:'0.08em',textTransform:'uppercase',marginBottom:6,display:'block'};const onFocus=e=>e.target.style.borderColor='#3b82f6';const onBlur=e=>e.target.style.borderColor='#e2e8f0';const Block=_ref2=>{let{icon,title,badge,children}=_ref2;return/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:12,padding:'20px 22px',border:'1px solid #edf2f7',marginBottom:14,boxShadow:'0 1px 3px rgba(0,0,0,0.04)'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:10,marginBottom:18},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:28,height:28,borderRadius:7,background:'#eff6ff',display:'flex',alignItems:'center',justifyContent:'center',fontSize:14},children:icon}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:700,fontSize:15,color:'#0d1829'},children:title}),badge&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:10,fontWeight:600,color:'#94a3b8',background:'#f1f5f9',padding:'2px 7px',borderRadius:4},children:badge})]}),children]});};// INLINE PREVIEW MODAL\nif(previewMode&&report){const url=previewMode==='pdf'?getPDFUrl(report.id):getPreviewUrl(report.id);return/*#__PURE__*/_jsxs(\"div\",{style:{position:'fixed',inset:0,zIndex:2000,background:'rgba(0,0,0,0.75)',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'#0d1829',padding:'12px 20px',display:'flex',alignItems:'center',justifyContent:'space-between',flexShrink:0},children:[/*#__PURE__*/_jsxs(\"span\",{style:{color:'white',fontSize:14,fontWeight:700},children:[previewMode==='pdf'?'üìÑ PDF Preview':'üëÅÔ∏è HTML Preview',\" \\u2014 \",report.title||report.event_name]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:8},children:[/*#__PURE__*/_jsx(\"a\",{href:getPDFUrl(report.id),download:true,style:{padding:'7px 16px',background:'#3b82f6',color:'white',borderRadius:7,fontSize:12,fontWeight:600,textDecoration:'none'},children:\"\\u2B07 Download PDF\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPreviewMode(null),style:{padding:'7px 16px',background:'rgba(255,255,255,0.15)',color:'white',border:'none',borderRadius:7,fontSize:12,fontWeight:600,cursor:'pointer'},children:\"\\u2715 Close\"})]})]}),/*#__PURE__*/_jsx(\"iframe\",{src:url,title:\"Report Preview\",style:{flex:1,border:'none',background:'white'}})]});}// GENERATING SCREEN\nif(phase==='generating'){return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',height:'60vh',gap:20},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:64,height:64,borderRadius:16,background:'linear-gradient(135deg,#1d4ed8,#3b82f6)',display:'flex',alignItems:'center',justifyContent:'center',fontSize:28,boxShadow:'0 4px 20px rgba(59,130,246,0.4)'},children:\"\\u2726\"}),/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:22,fontWeight:700,color:'#0d1829',margin:0},children:\"Generating Your Report\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#64748b',fontSize:13,textAlign:'center',maxWidth:400},children:\"AI is compiling a complete Milken-style intelligence briefing...\"}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:12,padding:'16px 24px',border:'1px solid #e2e8f0',minWidth:340,textAlign:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:10,justifyContent:'center'},children:[/*#__PURE__*/_jsx(\"span\",{style:{display:'inline-block',animation:'spin 1s linear infinite',fontSize:18},children:\"\\u23F3\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:13,color:'#374151',fontWeight:500},children:genStep})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:14,background:'#f1f5f9',borderRadius:8,height:6,overflow:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{style:{height:'100%',background:'linear-gradient(90deg,#3b82f6,#1d4ed8)',animation:'progress 30s linear forwards',borderRadius:8}})})]}),/*#__PURE__*/_jsx(\"style\",{children:\"@keyframes spin{to{transform:rotate(360deg)}}@keyframes progress{from{width:0}to{width:95%}}\"})]});}// DONE SCREEN\nif(phase==='done'&&report){var _report$speakers,_report$bilateral_mee,_report$visit_objecti,_report$agenda,_report$delegation,_report$speakers2,_report$bilateral_mee2,_report$conference_tr,_report$sessions,_report$sessions$day,_report$sessions2,_report$sessions2$day,_report$sessions3,_report$sessions3$day,_report$weather,_report$prayer_times;return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'center',gap:20,padding:'40px 20px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:64,height:64,borderRadius:'50%',background:'#dcfce7',display:'flex',alignItems:'center',justifyContent:'center',fontSize:28},children:\"\\u2705\"}),/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:22,fontWeight:700,color:'#0d1829',margin:0},children:\"Report Generated!\"}),/*#__PURE__*/_jsxs(\"p\",{style:{color:'#64748b',fontSize:13,textAlign:'center',maxWidth:440},children:[/*#__PURE__*/_jsx(\"strong\",{children:report.event_name}),\" \\xB7 \",report.city,\", \",report.country,\" \\xB7 \",((_report$speakers=report.speakers)===null||_report$speakers===void 0?void 0:_report$speakers.length)||0,\" speakers \\xB7 \",((_report$bilateral_mee=report.bilateral_meetings)===null||_report$bilateral_mee===void 0?void 0:_report$bilateral_mee.length)||0,\" bilateral meetings\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:12,flexWrap:'wrap',justifyContent:'center'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPreviewMode('pdf'),style:{padding:'12px 24px',background:'linear-gradient(135deg,#1c3370,#2563eb)',color:'white',border:'none',borderRadius:10,fontSize:13,fontWeight:700,cursor:'pointer',display:'flex',alignItems:'center',gap:8,boxShadow:'0 4px 14px rgba(29,78,216,0.35)'},children:\"\\uD83D\\uDCC4 View PDF\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPreviewMode('html'),style:{padding:'12px 24px',background:'white',color:'#1d4ed8',border:'1.5px solid #1d4ed8',borderRadius:10,fontSize:13,fontWeight:700,cursor:'pointer',display:'flex',alignItems:'center',gap:8},children:\"\\uD83D\\uDC41\\uFE0F Preview HTML\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onCancel,style:{padding:'12px 24px',background:'#f1f5f9',color:'#374151',border:'none',borderRadius:10,fontSize:13,fontWeight:600,cursor:'pointer'},children:\"\\u2190 Back to Dashboard\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:14,border:'1px solid #edf2f7',padding:'18px 22px',maxWidth:560,width:'100%'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700,fontSize:14,color:'#0d1829',marginBottom:12},children:\"Sections Generated:\"}),[['üéØ','Visit Objectives',(_report$visit_objecti=report.visit_objectives)===null||_report$visit_objecti===void 0?void 0:_report$visit_objecti.length],['üìÖ','Agenda Days',(_report$agenda=report.agenda)===null||_report$agenda===void 0?void 0:_report$agenda.length],['üë•','Delegation Members',(_report$delegation=report.delegation)===null||_report$delegation===void 0?void 0:_report$delegation.length],['üé§','Key Speakers',(_report$speakers2=report.speakers)===null||_report$speakers2===void 0?void 0:_report$speakers2.length],['ü§ù','Bilateral Meetings',(_report$bilateral_mee2=report.bilateral_meetings)===null||_report$bilateral_mee2===void 0?void 0:_report$bilateral_mee2.length],['üî∑','Conference Tracks',(_report$conference_tr=report.conference_tracks)===null||_report$conference_tr===void 0?void 0:_report$conference_tr.length],['üìã','Sessions Total',(((_report$sessions=report.sessions)===null||_report$sessions===void 0?void 0:(_report$sessions$day=_report$sessions.day1)===null||_report$sessions$day===void 0?void 0:_report$sessions$day.length)||0)+(((_report$sessions2=report.sessions)===null||_report$sessions2===void 0?void 0:(_report$sessions2$day=_report$sessions2.day2)===null||_report$sessions2$day===void 0?void 0:_report$sessions2$day.length)||0)+(((_report$sessions3=report.sessions)===null||_report$sessions3===void 0?void 0:(_report$sessions3$day=_report$sessions3.day3)===null||_report$sessions3$day===void 0?void 0:_report$sessions3$day.length)||0)],['üå§Ô∏è','Weather Days',(_report$weather=report.weather)===null||_report$weather===void 0?void 0:_report$weather.length],['üïå','Prayer Time Entries',(_report$prayer_times=report.prayer_times)===null||_report$prayer_times===void 0?void 0:_report$prayer_times.length]].map(_ref3=>{let[icon,label,count]=_ref3;return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',padding:'5px 0',borderBottom:'1px solid #f8fafc',fontSize:13},children:[/*#__PURE__*/_jsxs(\"span\",{style:{color:'#374151'},children:[icon,\" \",label]}),/*#__PURE__*/_jsx(\"span\",{style:{background:'#eff6ff',color:'#3b82f6',borderRadius:12,padding:'1px 10px',fontSize:11,fontWeight:700},children:count||0})]},label);})]})]});}// FORM\nreturn/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:720,margin:'0 auto',paddingBottom:50},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginBottom:28},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:54,height:54,borderRadius:16,background:'linear-gradient(135deg,#1d4ed8,#3b82f6)',display:'flex',alignItems:'center',justifyContent:'center',fontSize:22,margin:'0 auto 14px',boxShadow:'0 4px 16px rgba(59,130,246,0.38)'},children:\"\\u2726\"}),/*#__PURE__*/_jsx(\"h2\",{style:{margin:0,fontSize:24,fontWeight:700,color:'#0d1829'},children:\"Create New Report\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'6px 0 0',fontSize:13,color:'#94a3b8'},children:\"AI will generate a complete Milken-style travel intelligence briefing PDF\"})]}),error&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'#fef2f2',border:'1.5px solid #fecaca',borderRadius:10,padding:'12px 16px',marginBottom:16,color:'#dc2626',fontSize:13},children:[\"\\u26A0\\uFE0F \",error]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'center',marginBottom:28},children:['Event','Location','Dates','Context'].map((s,i,arr)=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:30,height:30,borderRadius:'50%',background:i===0?'#1d4ed8':'#f1f5f9',display:'flex',alignItems:'center',justifyContent:'center',fontSize:12,color:i===0?'white':'#94a3b8',border:\"2px solid \".concat(i===0?'#1d4ed8':'#e2e8f0')},children:i+1}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:10.5,color:i===0?'#1d4ed8':'#94a3b8',marginTop:5,fontWeight:i===0?700:400},children:s})]}),i<arr.length-1&&/*#__PURE__*/_jsx(\"div\",{style:{width:72,height:2,background:'#e2e8f0',margin:'0 2px',marginBottom:16}})]},s))}),/*#__PURE__*/_jsxs(Block,{icon:\"\\uD83D\\uDCC4\",title:\"Event Details\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:14},children:[/*#__PURE__*/_jsxs(\"label\",{style:lS,children:[\"Event Name \",/*#__PURE__*/_jsx(\"span\",{style:{color:'#ef4444'},children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{style:iS,placeholder:\"e.g., Milken Institute Global Conference 2026\",value:form.event_name,onChange:set('event_name'),onFocus:onFocus,onBlur:onBlur})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:14},children:[/*#__PURE__*/_jsx(\"label\",{style:lS,children:\"Report Title (Arabic/English)\"}),/*#__PURE__*/_jsx(\"input\",{style:iS,placeholder:\"e.g., \\u0627\\u0644\\u0645\\u0624\\u062A\\u0645\\u0631 \\u0627\\u0644\\u0639\\u0627\\u0644\\u0645\\u064A 2026\",value:form.title,onChange:set('title'),onFocus:onFocus,onBlur:onBlur})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:12,marginBottom:14},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:lS,children:\"Event Type\"}),/*#__PURE__*/_jsx(\"select\",{style:_objectSpread(_objectSpread({},iS),{},{cursor:'pointer'}),value:form.event_type,onChange:set('event_type'),children:EVENT_TYPES.map(t=>/*#__PURE__*/_jsx(\"option\",{children:t},t))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:lS,children:\"Report Language\"}),/*#__PURE__*/_jsxs(\"select\",{style:_objectSpread(_objectSpread({},iS),{},{cursor:'pointer'}),value:form.language,onChange:set('language'),children:[/*#__PURE__*/_jsx(\"option\",{children:\"English\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Arabic\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:lS,children:\"Event Website\"}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"span\",{style:{position:'absolute',left:11,top:'50%',transform:'translateY(-50%)',fontSize:13,color:'#94a3b8'},children:\"\\uD83D\\uDD17\"}),/*#__PURE__*/_jsx(\"input\",{style:_objectSpread(_objectSpread({},iS),{},{paddingLeft:32}),placeholder:\"https://event-website.com\",value:form.event_website,onChange:set('event_website'),onFocus:onFocus,onBlur:onBlur})]})]})]}),/*#__PURE__*/_jsx(Block,{icon:\"\\uD83D\\uDCCD\",title:\"Location\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr 1fr',gap:12},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{style:lS,children:[\"City \",/*#__PURE__*/_jsx(\"span\",{style:{color:'#ef4444'},children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{style:iS,placeholder:\"e.g., Los Angeles\",value:form.city,onChange:set('city'),onFocus:onFocus,onBlur:onBlur})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{style:lS,children:[\"Country \",/*#__PURE__*/_jsx(\"span\",{style:{color:'#ef4444'},children:\"*\"})]}),/*#__PURE__*/_jsxs(\"select\",{style:_objectSpread(_objectSpread({},iS),{},{cursor:'pointer'}),value:form.country,onChange:set('country'),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select country\"}),COUNTRIES.map(c=>/*#__PURE__*/_jsx(\"option\",{children:c},c))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:lS,children:\"Venue\"}),/*#__PURE__*/_jsx(\"input\",{style:iS,placeholder:\"e.g., Beverly Hilton\",value:form.venue,onChange:set('venue'),onFocus:onFocus,onBlur:onBlur})]})]})}),/*#__PURE__*/_jsx(Block,{icon:\"\\uD83D\\uDCC5\",title:\"Event Dates\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:12},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{style:lS,children:[\"Start Date \",/*#__PURE__*/_jsx(\"span\",{style:{color:'#ef4444'},children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",style:_objectSpread(_objectSpread({},iS),{},{cursor:'pointer'}),value:form.start_date,onChange:set('start_date')})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:lS,children:\"End Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",style:_objectSpread(_objectSpread({},iS),{},{cursor:'pointer'}),value:form.end_date,onChange:set('end_date')})]})]})}),/*#__PURE__*/_jsx(Block,{icon:\"\\uD83D\\uDC64\",title:\"Traveler Details\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:12},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:lS,children:\"Traveler Name\"}),/*#__PURE__*/_jsx(\"input\",{style:iS,value:form.traveler_name,onChange:set('traveler_name'),onFocus:onFocus,onBlur:onBlur})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:lS,children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{style:iS,value:form.traveler_title,onChange:set('traveler_title'),onFocus:onFocus,onBlur:onBlur})]})]})}),/*#__PURE__*/_jsx(Block,{icon:\"\\uD83D\\uDCAC\",title:\"Additional Context\",badge:\"OPTIONAL\",children:/*#__PURE__*/_jsx(\"textarea\",{style:_objectSpread(_objectSpread({},iS),{},{resize:'vertical',minHeight:90,lineHeight:1.65}),placeholder:\"Add any context, objectives, or requirements...\",value:form.context,onChange:set('context'),onFocus:onFocus,onBlur:onBlur})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center',gap:12,paddingTop:4},children:[/*#__PURE__*/_jsx(\"button\",{onClick:onCancel,style:{padding:'11px 26px',background:'white',border:'1.5px solid #e2e8f0',borderRadius:9,fontSize:13,fontWeight:600,cursor:'pointer',color:'#64748b'},children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleGenerate,style:{padding:'11px 28px',background:'linear-gradient(135deg,#1d4ed8,#3b82f6)',border:'none',borderRadius:9,color:'white',fontSize:13,fontWeight:700,cursor:'pointer',display:'flex',alignItems:'center',gap:9,boxShadow:'0 4px 16px rgba(59,130,246,0.38)',minWidth:200,justifyContent:'center'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u2726\"}),\" Generate AI Report\"]})]})]});}","map":{"version":3,"names":["useState","useRef","createReport","generateAI","getPDFUrl","getPreviewUrl","jsx","_jsx","jsxs","_jsxs","COUNTRIES","EVENT_TYPES","GEN_STEPS","NewReportForm","_ref","onSuccess","onCancel","form","setForm","title","event_name","event_type","language","event_website","city","country","venue","start_date","end_date","context","traveler_name","traveler_title","phase","setPhase","genStep","setGenStep","report","setReport","error","setError","previewMode","setPreviewMode","submittingRef","set","k","e","p","_objectSpread","target","value","handleGenerate","current","stepIdx","stepInterval","setInterval","length","payload","createRes","newReport","data","genRes","id","fullReport","clearInterval","_e$response","_e$response$data","response","iS","width","padding","border","borderRadius","fontSize","color","background","outline","fontFamily","transition","boxSizing","lS","fontWeight","letterSpacing","textTransform","marginBottom","display","onFocus","style","borderColor","onBlur","Block","_ref2","icon","badge","children","boxShadow","alignItems","gap","height","justifyContent","url","position","inset","zIndex","flexDirection","flexShrink","href","download","textDecoration","onClick","cursor","src","flex","margin","textAlign","maxWidth","minWidth","animation","marginTop","overflow","_report$speakers","_report$bilateral_mee","_report$visit_objecti","_report$agenda","_report$delegation","_report$speakers2","_report$bilateral_mee2","_report$conference_tr","_report$sessions","_report$sessions$day","_report$sessions2","_report$sessions2$day","_report$sessions3","_report$sessions3$day","_report$weather","_report$prayer_times","speakers","bilateral_meetings","flexWrap","visit_objectives","agenda","delegation","conference_tracks","sessions","day1","day2","day3","weather","prayer_times","map","_ref3","label","count","borderBottom","paddingBottom","s","i","arr","concat","placeholder","onChange","gridTemplateColumns","t","left","top","transform","paddingLeft","c","type","resize","minHeight","lineHeight","paddingTop"],"sources":["D:/New Project/milken_app/frontend/src/components/NewReportForm.jsx"],"sourcesContent":["import { useState, useRef } from 'react';\nimport { createReport, generateAI, getPDFUrl, getPreviewUrl } from '../services/api';\n\nconst COUNTRIES = ['USA','UK','Germany','France','Japan','China','Singapore','Australia','UAE','Saudi Arabia','India','Brazil','Canada','South Korea','Netherlands','Switzerland','Sweden','Norway','Italy','Spain','Egypt','Turkey'];\nconst EVENT_TYPES = ['Conference','Summit','Exhibition','Forum','Workshop','Bilateral Meeting','Scientific Congress','Trade Show'];\n\nconst GEN_STEPS = [\n  'Analyzing destination risk profile...',\n  'Collecting geopolitical intelligence...',\n  'Reviewing WHO health advisories...',\n  'Generating conference details...',\n  'Building delegation and agenda...',\n  'Compiling speakers and bilateral meetings...',\n  'Adding consulate, weather & prayer times...',\n  'Finalizing report structure...',\n];\n\nexport default function NewReportForm({ onSuccess, onCancel }) {\n  const [form, setForm] = useState({\n    title:'', event_name:'', event_type:'Conference', language:'English',\n    event_website:'', city:'', country:'', venue:'',\n    start_date:'', end_date:'', context:'',\n    traveler_name:'Dr. Hisham Al Jadhey',\n    traveler_title:'ÿßŸÑÿ±ÿ¶Ÿäÿ≥ ÿßŸÑÿ™ŸÜŸÅŸäÿ∞Ÿä ŸÑŸÑŸáŸäÿ¶ÿ© ÿßŸÑÿπÿßŸÖÿ© ŸÑŸÑÿ∫ÿ∞ÿßÿ° ŸàÿßŸÑÿØŸàÿßÿ°',\n  });\n  const [phase, setPhase] = useState('form');\n  const [genStep, setGenStep] = useState('');\n  const [report, setReport] = useState(null);\n  const [error, setError] = useState('');\n  const [previewMode, setPreviewMode] = useState(null);\n  const submittingRef = useRef(false);\n\n  const set = k => e => setForm(p => ({...p, [k]: e.target.value}));\n\n  const handleGenerate = async () => {\n    if (submittingRef.current) return;\n    if (!form.event_name || !form.city || !form.country || !form.start_date) {\n      setError('Please fill in: Event Name, City, Country, and Start Date.');\n      return;\n    }\n    submittingRef.current = true;\n    setError('');\n    setPhase('generating');\n\n    let stepIdx = 0;\n    const stepInterval = setInterval(() => {\n      setGenStep(GEN_STEPS[stepIdx % GEN_STEPS.length]);\n      stepIdx++;\n    }, 700);\n\n    try {\n      const payload = { ...form, title: form.title || form.event_name };\n      const createRes = await createReport(payload);\n      const newReport = createRes.data;\n      setGenStep('Calling AI to generate full report content...');\n      const genRes = await generateAI(newReport.id);\n      const fullReport = genRes.data.report;\n      clearInterval(stepInterval);\n      setReport(fullReport);\n      setPhase('done');\n      onSuccess(fullReport);\n    } catch (e) {\n      clearInterval(stepInterval);\n      setError(e.response?.data?.error || 'Generation failed. Please check your API key and try again.');\n      setPhase('form');\n    } finally {\n      submittingRef.current = false;\n    }\n  };\n\n  const iS = { width:'100%', padding:'10px 12px', border:'1.5px solid #e2e8f0', borderRadius:8, fontSize:13, color:'#0d1829', background:'white', outline:'none', fontFamily:'inherit', transition:'border-color 0.15s', boxSizing:'border-box' };\n  const lS = { fontSize:10.5, fontWeight:700, color:'#64748b', letterSpacing:'0.08em', textTransform:'uppercase', marginBottom:6, display:'block' };\n  const onFocus = e => e.target.style.borderColor = '#3b82f6';\n  const onBlur  = e => e.target.style.borderColor = '#e2e8f0';\n\n  const Block = ({ icon, title, badge, children }) => (\n    <div style={{ background:'white', borderRadius:12, padding:'20px 22px', border:'1px solid #edf2f7', marginBottom:14, boxShadow:'0 1px 3px rgba(0,0,0,0.04)' }}>\n      <div style={{ display:'flex', alignItems:'center', gap:10, marginBottom:18 }}>\n        <div style={{ width:28, height:28, borderRadius:7, background:'#eff6ff', display:'flex', alignItems:'center', justifyContent:'center', fontSize:14 }}>{icon}</div>\n        <span style={{ fontWeight:700, fontSize:15, color:'#0d1829' }}>{title}</span>\n        {badge && <span style={{ fontSize:10, fontWeight:600, color:'#94a3b8', background:'#f1f5f9', padding:'2px 7px', borderRadius:4 }}>{badge}</span>}\n      </div>\n      {children}\n    </div>\n  );\n\n  // INLINE PREVIEW MODAL\n  if (previewMode && report) {\n    const url = previewMode === 'pdf' ? getPDFUrl(report.id) : getPreviewUrl(report.id);\n    return (\n      <div style={{ position:'fixed', inset:0, zIndex:2000, background:'rgba(0,0,0,0.75)', display:'flex', flexDirection:'column' }}>\n        <div style={{ background:'#0d1829', padding:'12px 20px', display:'flex', alignItems:'center', justifyContent:'space-between', flexShrink:0 }}>\n          <span style={{ color:'white', fontSize:14, fontWeight:700 }}>\n            {previewMode === 'pdf' ? 'üìÑ PDF Preview' : 'üëÅÔ∏è HTML Preview'} ‚Äî {report.title || report.event_name}\n          </span>\n          <div style={{ display:'flex', gap:8 }}>\n            <a href={getPDFUrl(report.id)} download\n              style={{ padding:'7px 16px', background:'#3b82f6', color:'white', borderRadius:7, fontSize:12, fontWeight:600, textDecoration:'none' }}>\n              ‚¨á Download PDF\n            </a>\n            <button onClick={()=>setPreviewMode(null)}\n              style={{ padding:'7px 16px', background:'rgba(255,255,255,0.15)', color:'white', border:'none', borderRadius:7, fontSize:12, fontWeight:600, cursor:'pointer' }}>\n              ‚úï Close\n            </button>\n          </div>\n        </div>\n        <iframe src={url} title=\"Report Preview\" style={{ flex:1, border:'none', background:'white' }}/>\n      </div>\n    );\n  }\n\n  // GENERATING SCREEN\n  if (phase === 'generating') {\n    return (\n      <div style={{ display:'flex', flexDirection:'column', alignItems:'center', justifyContent:'center', height:'60vh', gap:20 }}>\n        <div style={{ width:64, height:64, borderRadius:16, background:'linear-gradient(135deg,#1d4ed8,#3b82f6)', display:'flex', alignItems:'center', justifyContent:'center', fontSize:28, boxShadow:'0 4px 20px rgba(59,130,246,0.4)' }}>‚ú¶</div>\n        <h2 style={{ fontSize:22, fontWeight:700, color:'#0d1829', margin:0 }}>Generating Your Report</h2>\n        <p style={{ color:'#64748b', fontSize:13, textAlign:'center', maxWidth:400 }}>AI is compiling a complete Milken-style intelligence briefing...</p>\n        <div style={{ background:'white', borderRadius:12, padding:'16px 24px', border:'1px solid #e2e8f0', minWidth:340, textAlign:'center' }}>\n          <div style={{ display:'flex', alignItems:'center', gap:10, justifyContent:'center' }}>\n            <span style={{ display:'inline-block', animation:'spin 1s linear infinite', fontSize:18 }}>‚è≥</span>\n            <span style={{ fontSize:13, color:'#374151', fontWeight:500 }}>{genStep}</span>\n          </div>\n          <div style={{ marginTop:14, background:'#f1f5f9', borderRadius:8, height:6, overflow:'hidden' }}>\n            <div style={{ height:'100%', background:'linear-gradient(90deg,#3b82f6,#1d4ed8)', animation:'progress 30s linear forwards', borderRadius:8 }}/>\n          </div>\n        </div>\n        <style>{`@keyframes spin{to{transform:rotate(360deg)}}@keyframes progress{from{width:0}to{width:95%}}`}</style>\n      </div>\n    );\n  }\n\n  // DONE SCREEN\n  if (phase === 'done' && report) {\n    return (\n      <div style={{ display:'flex', flexDirection:'column', alignItems:'center', gap:20, padding:'40px 20px' }}>\n        <div style={{ width:64, height:64, borderRadius:'50%', background:'#dcfce7', display:'flex', alignItems:'center', justifyContent:'center', fontSize:28 }}>‚úÖ</div>\n        <h2 style={{ fontSize:22, fontWeight:700, color:'#0d1829', margin:0 }}>Report Generated!</h2>\n        <p style={{ color:'#64748b', fontSize:13, textAlign:'center', maxWidth:440 }}>\n          <strong>{report.event_name}</strong> ¬∑ {report.city}, {report.country} ¬∑ {report.speakers?.length||0} speakers ¬∑ {report.bilateral_meetings?.length||0} bilateral meetings\n        </p>\n        <div style={{ display:'flex', gap:12, flexWrap:'wrap', justifyContent:'center' }}>\n          <button onClick={()=>setPreviewMode('pdf')}\n            style={{ padding:'12px 24px', background:'linear-gradient(135deg,#1c3370,#2563eb)', color:'white', border:'none', borderRadius:10, fontSize:13, fontWeight:700, cursor:'pointer', display:'flex', alignItems:'center', gap:8, boxShadow:'0 4px 14px rgba(29,78,216,0.35)' }}>\n            üìÑ View PDF\n          </button>\n          <button onClick={()=>setPreviewMode('html')}\n            style={{ padding:'12px 24px', background:'white', color:'#1d4ed8', border:'1.5px solid #1d4ed8', borderRadius:10, fontSize:13, fontWeight:700, cursor:'pointer', display:'flex', alignItems:'center', gap:8 }}>\n            üëÅÔ∏è Preview HTML\n          </button>\n          <button onClick={onCancel}\n            style={{ padding:'12px 24px', background:'#f1f5f9', color:'#374151', border:'none', borderRadius:10, fontSize:13, fontWeight:600, cursor:'pointer' }}>\n            ‚Üê Back to Dashboard\n          </button>\n        </div>\n        <div style={{ background:'white', borderRadius:14, border:'1px solid #edf2f7', padding:'18px 22px', maxWidth:560, width:'100%' }}>\n          <div style={{ fontWeight:700, fontSize:14, color:'#0d1829', marginBottom:12 }}>Sections Generated:</div>\n          {[\n            ['üéØ','Visit Objectives',    report.visit_objectives?.length],\n            ['üìÖ','Agenda Days',         report.agenda?.length],\n            ['üë•','Delegation Members',  report.delegation?.length],\n            ['üé§','Key Speakers',        report.speakers?.length],\n            ['ü§ù','Bilateral Meetings',  report.bilateral_meetings?.length],\n            ['üî∑','Conference Tracks',   report.conference_tracks?.length],\n            ['üìã','Sessions Total',      (report.sessions?.day1?.length||0)+(report.sessions?.day2?.length||0)+(report.sessions?.day3?.length||0)],\n            ['üå§Ô∏è','Weather Days',       report.weather?.length],\n            ['üïå','Prayer Time Entries', report.prayer_times?.length],\n          ].map(([icon,label,count]) => (\n            <div key={label} style={{ display:'flex', justifyContent:'space-between', padding:'5px 0', borderBottom:'1px solid #f8fafc', fontSize:13 }}>\n              <span style={{ color:'#374151' }}>{icon} {label}</span>\n              <span style={{ background:'#eff6ff', color:'#3b82f6', borderRadius:12, padding:'1px 10px', fontSize:11, fontWeight:700 }}>{count||0}</span>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  // FORM\n  return (\n    <div style={{ maxWidth:720, margin:'0 auto', paddingBottom:50 }}>\n      <div style={{ textAlign:'center', marginBottom:28 }}>\n        <div style={{ width:54, height:54, borderRadius:16, background:'linear-gradient(135deg,#1d4ed8,#3b82f6)', display:'flex', alignItems:'center', justifyContent:'center', fontSize:22, margin:'0 auto 14px', boxShadow:'0 4px 16px rgba(59,130,246,0.38)' }}>‚ú¶</div>\n        <h2 style={{ margin:0, fontSize:24, fontWeight:700, color:'#0d1829' }}>Create New Report</h2>\n        <p style={{ margin:'6px 0 0', fontSize:13, color:'#94a3b8' }}>AI will generate a complete Milken-style travel intelligence briefing PDF</p>\n      </div>\n\n      {error && (\n        <div style={{ background:'#fef2f2', border:'1.5px solid #fecaca', borderRadius:10, padding:'12px 16px', marginBottom:16, color:'#dc2626', fontSize:13 }}>\n          ‚ö†Ô∏è {error}\n        </div>\n      )}\n\n      <div style={{ display:'flex', justifyContent:'center', alignItems:'center', marginBottom:28 }}>\n        {['Event','Location','Dates','Context'].map((s,i,arr) => (\n          <div key={s} style={{ display:'flex', alignItems:'center' }}>\n            <div style={{ display:'flex', flexDirection:'column', alignItems:'center' }}>\n              <div style={{ width:30, height:30, borderRadius:'50%', background:i===0?'#1d4ed8':'#f1f5f9', display:'flex', alignItems:'center', justifyContent:'center', fontSize:12, color:i===0?'white':'#94a3b8', border:`2px solid ${i===0?'#1d4ed8':'#e2e8f0'}` }}>{i+1}</div>\n              <span style={{ fontSize:10.5, color:i===0?'#1d4ed8':'#94a3b8', marginTop:5, fontWeight:i===0?700:400 }}>{s}</span>\n            </div>\n            {i<arr.length-1 && <div style={{ width:72, height:2, background:'#e2e8f0', margin:'0 2px', marginBottom:16 }}/>}\n          </div>\n        ))}\n      </div>\n\n      <Block icon=\"üìÑ\" title=\"Event Details\">\n        <div style={{ marginBottom:14 }}>\n          <label style={lS}>Event Name <span style={{ color:'#ef4444' }}>*</span></label>\n          <input style={iS} placeholder=\"e.g., Milken Institute Global Conference 2026\" value={form.event_name} onChange={set('event_name')} onFocus={onFocus} onBlur={onBlur}/>\n        </div>\n        <div style={{ marginBottom:14 }}>\n          <label style={lS}>Report Title (Arabic/English)</label>\n          <input style={iS} placeholder=\"e.g., ÿßŸÑŸÖÿ§ÿ™ŸÖÿ± ÿßŸÑÿπÿßŸÑŸÖŸä 2026\" value={form.title} onChange={set('title')} onFocus={onFocus} onBlur={onBlur}/>\n        </div>\n        <div style={{ display:'grid', gridTemplateColumns:'1fr 1fr', gap:12, marginBottom:14 }}>\n          <div>\n            <label style={lS}>Event Type</label>\n            <select style={{...iS, cursor:'pointer'}} value={form.event_type} onChange={set('event_type')}>\n              {EVENT_TYPES.map(t=><option key={t}>{t}</option>)}\n            </select>\n          </div>\n          <div>\n            <label style={lS}>Report Language</label>\n            <select style={{...iS, cursor:'pointer'}} value={form.language} onChange={set('language')}>\n              <option>English</option><option>Arabic</option>\n            </select>\n          </div>\n        </div>\n        <div>\n          <label style={lS}>Event Website</label>\n          <div style={{ position:'relative' }}>\n            <span style={{ position:'absolute', left:11, top:'50%', transform:'translateY(-50%)', fontSize:13, color:'#94a3b8' }}>üîó</span>\n            <input style={{...iS, paddingLeft:32}} placeholder=\"https://event-website.com\" value={form.event_website} onChange={set('event_website')} onFocus={onFocus} onBlur={onBlur}/>\n          </div>\n        </div>\n      </Block>\n\n      <Block icon=\"üìç\" title=\"Location\">\n        <div style={{ display:'grid', gridTemplateColumns:'1fr 1fr 1fr', gap:12 }}>\n          <div><label style={lS}>City <span style={{ color:'#ef4444' }}>*</span></label><input style={iS} placeholder=\"e.g., Los Angeles\" value={form.city} onChange={set('city')} onFocus={onFocus} onBlur={onBlur}/></div>\n          <div>\n            <label style={lS}>Country <span style={{ color:'#ef4444' }}>*</span></label>\n            <select style={{...iS, cursor:'pointer'}} value={form.country} onChange={set('country')}>\n              <option value=\"\">Select country</option>\n              {COUNTRIES.map(c=><option key={c}>{c}</option>)}\n            </select>\n          </div>\n          <div><label style={lS}>Venue</label><input style={iS} placeholder=\"e.g., Beverly Hilton\" value={form.venue} onChange={set('venue')} onFocus={onFocus} onBlur={onBlur}/></div>\n        </div>\n      </Block>\n\n      <Block icon=\"üìÖ\" title=\"Event Dates\">\n        <div style={{ display:'grid', gridTemplateColumns:'1fr 1fr', gap:12 }}>\n          <div><label style={lS}>Start Date <span style={{ color:'#ef4444' }}>*</span></label><input type=\"date\" style={{...iS, cursor:'pointer'}} value={form.start_date} onChange={set('start_date')}/></div>\n          <div><label style={lS}>End Date</label><input type=\"date\" style={{...iS, cursor:'pointer'}} value={form.end_date} onChange={set('end_date')}/></div>\n        </div>\n      </Block>\n\n      <Block icon=\"üë§\" title=\"Traveler Details\">\n        <div style={{ display:'grid', gridTemplateColumns:'1fr 1fr', gap:12 }}>\n          <div><label style={lS}>Traveler Name</label><input style={iS} value={form.traveler_name} onChange={set('traveler_name')} onFocus={onFocus} onBlur={onBlur}/></div>\n          <div><label style={lS}>Title</label><input style={iS} value={form.traveler_title} onChange={set('traveler_title')} onFocus={onFocus} onBlur={onBlur}/></div>\n        </div>\n      </Block>\n\n      <Block icon=\"üí¨\" title=\"Additional Context\" badge=\"OPTIONAL\">\n        <textarea style={{...iS, resize:'vertical', minHeight:90, lineHeight:1.65}}\n          placeholder=\"Add any context, objectives, or requirements...\"\n          value={form.context} onChange={set('context')} onFocus={onFocus} onBlur={onBlur}/>\n      </Block>\n\n      <div style={{ display:'flex', justifyContent:'center', gap:12, paddingTop:4 }}>\n        <button onClick={onCancel} style={{ padding:'11px 26px', background:'white', border:'1.5px solid #e2e8f0', borderRadius:9, fontSize:13, fontWeight:600, cursor:'pointer', color:'#64748b' }}>Cancel</button>\n        <button onClick={handleGenerate}\n          style={{ padding:'11px 28px', background:'linear-gradient(135deg,#1d4ed8,#3b82f6)', border:'none', borderRadius:9, color:'white', fontSize:13, fontWeight:700, cursor:'pointer', display:'flex', alignItems:'center', gap:9, boxShadow:'0 4px 16px rgba(59,130,246,0.38)', minWidth:200, justifyContent:'center' }}>\n          <span>‚ú¶</span> Generate AI Report\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}